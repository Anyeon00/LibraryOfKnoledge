9주차 리눅스 플립 파일시스템

파일시스템
: 파일과 디렉터리의 집합을 구조적으로 관리하는 체계

파일은 inode로 관리됨(파일 하나당 inode하나)(디렉터리나 장치도 파일)

ext4 파일시스템구조
블록그룹 0 : 블록중요정보(슈퍼,그룹디스크립터) 포함블록
블록그룹 a : 0에서 중요정보 백업을  포함한 블록
블록그룹 b : 데이터 블록

블록그룹 0의 첫번째는 부팅하기위한
슈퍼블록 : 파일에서 가장 중요한 정보(사이즈등)
그룹 디스크립터 : 그 다음 중요한 정보
데이터블록비트맵 : 데이터블록 사용여부 확인
inode비트맵 : inode 항목 사용중인지 표시
*inode에는 파일정보(파일종류,접근권한,크기,수정시간..)를 저장, 데이터블록에는 실제 데이터 저장
파일을 찾아가는 포인터
직접블록, 간접블록

파일시스템을 디렉터리 계층구조에 연결(마운트)시켜야 사용가능

마운트 : 새로운 파일시스템을 만들어서 기존의 파일시스템에 연결
/etc/fstab : 시스템 부팅시 자동으로 마운트시킴
*/etc/fstab 파일의 구조
장치명 마운트포인트 파일시스템종류 옵션 덤프관련설정 파일점검옵션
**옵션 auto : 부팅시자동 마운트(ro : readonly, rw : read/write)
  nouser : 일반사용자의 마운트 불가능, root만 가능
덤프관련설정 0(dump불가) 1(dump가능)
파일점검옵션 0:부팅시 fsck안함, 1:루트파일시스템,2:루트파일시스템이외

mount 관련명령 //root에서 작업
mount : 현재 마운트상태 확인
mount 옵션 마운트포인트 : 파일 시스템을 마운트함
ex) mount /dev/sdbq /mnt		//dev/sdbq를 /mnt에 마운트
*-t 파일시스템종류 : 파일시스템종류지정
 -f : 마운트 할 수 있는지 점검만 함
 -r : 읽기만 가능하게 마운트함
unmount 옵션 마운트포인트 : 파일시스템을 언마운트함

마운트 ex)
ls /mnt
mount -t iso9660 /dev/cdrom /mnt
ls -l /mnt

umount 옵션 마운트포인트 : 언마운트함
-t : 파일시스템종류지정
-----------------------------------------------------------------------------------------------------

partition : 하나의 디스크를 독립된 영역으로 구분하는것
기본적으로 두개의 partition이 존재해야함 (하드웨어안에 partition을 4개까지 만들수 있음)
첫번째는 root, 두번째는 swap (_메모리과부하시 잠깐 사용하는 곳)
그런데 그 이상 필요한경우 4번째 partition을 쪼갬

할줄알아야하는거
[root에서 파일시스템만들고 mount 시키기] 7장자료, 32p디스크 추가시키는거부터
[시험 fdisk의 e옵션이 뭐냐 이렇게 나올순없음, 디스크두개를 설치를해서 파일시스템을 세개를 설치하고싶은데 설명해라)

fdisk : partition 나누는 명령어
내부명령어:
d : 파티션삭제
n: 파티션추가
t: 파티션의 파일시스템 종류 변경
w: 저장후 종료
q : 그냥 종료

마운트포인트 만들기 : mkdir


장치 ls명령어 : ls /dev

/dev/nvme0n2


LVM
여러개의 디스크를 하나처럼 만드는 것,(하나처럼만들어서 다시 partition도 가능

실습
1.umount 하기
2. fdisk로가서 d명령어(delete)로 두개의 디스크에 partition들 삭제
3. 
4. type을 82로 바꾸기(두번재 파티션 선택: 그냥 자동으로 다음 파티션도 변경할지 뜸)


디스크관리 부분 혼자 보기 

